<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opentree</title>
    
    
    <style type="text/css">
        // Fix for broken submenus on mobile devices
        .dropdown-backdrop{
            position: static !important;
        }
    </style>

    <script type="text/javascript">
        /*    
        @licstart  The following is the entire license notice for the JavaScript code in this page. 

        Copyright (c) 2013, Jonathan Rees
        Copyright (c) 2013, Mark Holder
        Copyright (c) 2013, Jim Allman
        Copyright (c) 2013, Stephen Smith

        All rights reserved.

        Redistribution and use in source and binary forms, with or without
        modification, are permitted provided that the following conditions are met:

        Redistributions of source code must retain the above copyright notice, this
        list of conditions and the following disclaimer.

        Redistributions in binary form must reproduce the above copyright notice,
        this list of conditions and the following disclaimer in the documentation
        and/or other materials provided with the distribution.

        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
        AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
        IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
        DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
        FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
        DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
        SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
        CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
        OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
        OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

        @licend  The above is the entire license notice for the JavaScript code in this page.

        Licensing for third-party and linked JavaScript can be found in the
        'License information' page linked from the footer.
        */
    </script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      
    <![endif]-->

    
    
    <!-- css for comments -->
    
    
    <!-- js dependencies for argus -->
      <!-- TODO: add a proper test here, to omit while in /opentree/appadmin -->
    <script type="text/javascript">
        // make important domains available to client-side code
        var treemachine_domain = "//api.opentreeoflife.org/treemachine/v1";
        var taxomachine_domain = "//api.opentreeoflife.org/taxomachine/v1";
        var getDraftTreeID_url = "//api.opentreeoflife.org/treemachine/v1/getDraftTreeID";
        var getSyntheticTree_url = "//api.opentreeoflife.org/cached/treemachine/v1/getSyntheticTree";
        var getSourceTree_url = "//api.opentreeoflife.org/treemachine/v1/getSourceTree";
        var getDraftSubtree_url = "//devapi.opentreeoflife.org/v2/tree_of_life/subtree";
        var doTNRSForAutocomplete_url = "//api.opentreeoflife.org/taxomachine/v1/autocompleteQuery";
        var getNodeIDForOttolID_url = "//api.opentreeoflife.org/treemachine/v1/getNodeIDForottId";
        var singlePropertySearchForStudies_url = "//api.opentreeoflife.org/oti/v1/singlePropertySearchForStudies";
    </script>
    

    
    
    
    

    <!-- js for history management -->
    

    <!-- jquery splitter plugin -->
    
    

    <!-- js for Bootstrap components -->
    
    
    
    
    
    
    
    
    
    
    
    

    <!-- js improved date parsing & formatting -->
    
    
    <!-- support for web2py AJAX (incl. link to static/js/jquery.js) -->
    <script type="text/javascript"><!--
    // These variables are used by the web2py_ajax_init function in web2py_ajax.js (which is loaded below).
    var w2p_ajax_confirm_message = "Are you sure you want to delete this object?";
    var w2p_ajax_date_format = "%Y-%m-%d";
    var w2p_ajax_datetime_format = "%Y-%m-%d %H:%M:%S";
    var ajax_error_500 = 'An error occured, please <a data-w2p_disable_with="default" href="/">reload</a> the page'
    //--></script>
<meta name="keywords" content="bioinformatics, evolutionary biology, phylogenetics" />

<meta name="description" content="The goal of the Open Tree of Life project is to make phylogenetic knowledge more accessible. This site will allow you to explore previously published tree estimates and synthetic estimates of phylogenies that are created from many datasets. You can help make the system more comprehensive by uploading trees or linking trees in the system to the data on which they are based." />

<meta name="author" content="Open Tree of Life developers &lt;mtholder@gmail.com&gt;" />
<script src="/opentree/static/js/jquery.js" type="text/javascript"></script><link href="/opentree/static/css/calendar.css" rel="stylesheet" type="text/css" /><script src="/opentree/static/js/calendar.js" type="text/javascript"></script><script src="/opentree/static/js/web2py.js" type="text/javascript"></script><link href="/opentree/static/css/bootstrap.css" rel="stylesheet" type="text/css" /><link href="/opentree/static/css/bootstrap-responsive.css" rel="stylesheet" type="text/css" /><script src="/opentree/static/js/html5shiv.js" type="text/javascript"></script><link href="/opentree/static/plugin_layouts/opentree/default.css" rel="stylesheet" type="text/css" /><script src="/opentree/static/plugin_layouts/superfish.js" type="text/javascript"></script><link href="/opentree/static/plugin_localcomments/css/localcomments.css" rel="stylesheet" type="text/css" /><script src="/opentree/static/js/json2.js" type="text/javascript"></script><script src="/opentree/static/js/argus/raphael-min.js" type="text/javascript"></script><script src="/opentree/static/js/argus/drawtree.js" type="text/javascript"></script><script src="/opentree/static/js/jquery.history.js" type="text/javascript"></script><script src="/opentree/static/js/jquery.splitter-0.6.js" type="text/javascript"></script><link href="/opentree/static/css/jquery.splitter.css" rel="stylesheet" type="text/css" /><script src="/opentree/static/js/bootstrap-transition.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-alert.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-modal.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-dropdown.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-scrollspy.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-tab.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-tooltip.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-popover.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-button.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-collapse.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-carousel.js" type="text/javascript"></script><script src="/opentree/static/js/bootstrap-typeahead.js" type="text/javascript"></script><script src="/opentree/static/js/moment.min.js" type="text/javascript"></script>


    <script type="text/javascript">
        // some behavior should be on *every* page (after jQuery)
        function toggleServerDetailsPopup() {
            var $detailsBox = $('#server-details');
            $detailsBox.toggle();
            if ($detailsBox.is(':visible')) {
                $('body').animate({scrollTop: parseInt($detailsBox.offset().top) });
            }
        }

        /* Sensible autocomplete behavior requires the use of timeouts
         * and sanity checks for unchanged content, etc.
         */
        clearTimeout(searchTimeoutID);  // in case there's a lingering search from last page!
        var searchTimeoutID = null;
        var searchDelay = 1000; // milliseconds
        var hopefulSearchName = null;
        function setTaxaSearchFuse(e) {
            if (searchTimeoutID) {
                // kill any pending search, apparently we're still typing
                clearTimeout(searchTimeoutID);
            }
            // reset the timeout for another n milliseconds
            searchTimeoutID = setTimeout(searchForMatchingTaxa, searchDelay);

            /* If the last key pressed was the ENTER key, stash the current (trimmed)
             * string and auto-jump if it's a valid taxon name.
             */
            if (e.type === 'keyup') {
                switch (e.which) {
                    case 13:
                        hopefulSearchName = $('input[name=taxon-search]').val().trim();
                        jumpToExactMatch();  // use existing menu, if found
                        break;
                    case 17:
                        // do nothing (probably a second ENTER key)
                        break;
                    case 39:
                    case 40:
                        // down or right arrow should try to tab to first result
                        $('#search-results a:eq(0)').focus();
                        break;
                    default:
                        hopefulSearchName = null;
                }
            } else {
                hopefulSearchName = null;
            }
        }

        function makeSafeForWeb2pyURL(str) {
            // replace characters considered unsafe (blocked) by web2py in a URL
            return str.replace(/[:(), .]+/g, '-').replace(/[\[\]\+]+/g,'');
        }
        function historyStateToURL( stateObj ) {
            var safeNodeName = null;
            if (stateObj.nodeName) {
                safeNodeName = makeSafeForWeb2pyURL(stateObj.nodeName);
            }
            return '/opentree'+ (stateObj.viewer ? '/'+stateObj.viewer : '') +'/'+ stateObj.domSource +'@'+ stateObj.nodeID + (safeNodeName ? '/'+ safeNodeName : '');
        }

        var showingResultsForSearchText = '';
        var showingResultsForSearchContextName = '';
        function searchForMatchingTaxa() {
            // clear any pending search timeout and ID
            clearTimeout(searchTimeoutID);
            searchTimeoutID = null;

            var $input = $('input[name=taxon-search]');
            var searchText = $input.val().trimLeft();

            if (searchText.length === 0) {
                $('#search-results').html('');
                if (typeof snapViewerFrameToMainTitle === 'function') snapViewerFrameToMainTitle();
                return false;
            } else if (searchText.length < 2) {
                $('#search-results').html('<li class="disabled"><a><span class="text-error">Enter two or more characters to search</span></a></li>');
                $('#search-results').dropdown('toggle');

                if (typeof snapViewerFrameToMainTitle === 'function') snapViewerFrameToMainTitle();
                return false;
            }

            // groom trimmed text based on our search rules
            var searchContextName = $('select[name=taxon-search-context]').val();

            // is this unchanged from last time? no need to search again..
            if ((searchText == showingResultsForSearchText) && (searchContextName == showingResultsForSearchContextName)) {
                ///console.log("Search text and context UNCHANGED!");
                return false; 
            }

            // stash these to use for later comparison (to avoid redundant searches)
            var queryText = searchText; // trimmed above
            var queryContextName = searchContextName;

            // proper version queries treemachine API
            // $ curl -X POST http://opentree-dev.bio.ku.edu:7476/db/data/ext/TNRS/graphdb/doTNRSForNames -H "Content-Type: Application/json" -d '{"queryString":"Drosophila","contextName":"Fungi"}'
            $('#search-results').html('<li class="disabled"><a><span class="text-warning">Search in progress...</span></a></li>');
            $('#search-results').dropdown('toggle');
            if (typeof snapViewerFrameToMainTitle === 'function') snapViewerFrameToMainTitle();
            
            $.ajax({
                url: doTNRSForAutocomplete_url,  // NOTE that actual server-side method name might be quite different!
                type: 'POST',
                dataType: 'json',
                data: JSON.stringify({ 
                    "queryString": searchText,
                    "contextName": searchContextName
                }),  // data (asterisk required for completion suggestions)
                crossDomain: true,
                contentType: 'application/json',
                success: function(data) {    // JSONP callback
                    // stash the search-text used to generate these results
                    showingResultsForSearchText = queryText;
                    showingResultsForSearchContextName = queryContextName;

                    $('#search-results').html('');
                    var maxResults = 100;
                    var visibleResults = 0;
                    /*
                     * The returned JSON 'data' is a simple list of objects. Each object is a matching taxon (or name?)
                     * with these properties:
                     *      ottId   // taxon ID in OTT taxonomic tree
                     *      nodeId  // ie, neo4j node ID
                     *      exact   // matches the entered text exactly? T/F
                     *      name    // taxon name
                     *      higher  // points to a genus or higher taxon? T/F
                     */
                    if (data && data.length && data.length > 0) {
                        // sort results to show exact match(es) first, then higher taxa, then others
                        // initial sort on higher taxa (will be overridden by exact matches)
                        data.sort(function(a,b) {
                            if (a.higher === b.higher) return 0;
                            if (a.higher) return -1;
                            if (b.higher) return 1;
                        });
                        // final sort on exact matches (overrides higher taxa)
                        data.sort(function(a,b) {
                            if (a.exact === b.exact) return 0;
                            if (a.exact) return -1;
                            if (b.exact) return 1;
                        });

                        // show all sorted results, up to our preset maximum
                        var matchingNodeIDs = [ ];  // ignore any duplicate results (point to the same taxon)
                        for (var mpos = 0; mpos < data.length; mpos++) {
                            if (visibleResults >= maxResults) {
                                break;
                            }
                            var match = data[mpos];
                            var matchingName = match.name;  // N.B. this will be its unique name, if found
                            var matchingID = match.ottId;
                            if ($.inArray(matchingID, matchingNodeIDs) === -1) {
                                // we're not showing this yet; add it now
                                $('#search-results').append(
                                    '<li><a href="'+ matchingID +'" tabindex="'+ (mpos+2) +'">'+ matchingName +'</a></li>'
                                );
                                matchingNodeIDs.push(matchingID);
                                visibleResults++;
                            }
                        }
                        
                        $('#search-results a')
                            .click(function(e) {
                                // suppress normal dropdown logic and jump to link normally (TODO: Why is this needed?)
                                e.stopPropagation();
                            })
                            .each(function() {
                                var $link = $(this);
                                //// WAS constructed literal ('/opentree/'+ "ottol" +'@'+ itsNodeID +'/'+ itsName)
                                var safeURL = historyStateToURL({
                                    nodeID: $link.attr('href'), 
                                    domSource: 'ottol',
                                    nodeName: $link.html(),
                                    viewer: 'argus'
                                });
                                $link.attr('href', safeURL);
                            });
                        $('#search-results').dropdown('toggle');

                        jumpToExactMatch();
                    } else {
                        $('#search-results').html('<li class="disabled"><a><span class="muted">No results for this search</span></a></li>');
                        $('#search-results').dropdown('toggle');
                    }
                    if (typeof snapViewerFrameToMainTitle === 'function') snapViewerFrameToMainTitle();
                }
            });

            return false;
        }

        function jumpToExactMatch() {
            // if the user hit the ENTER key, and there's an exact match, apply it automatically
            if (hopefulSearchName) {
                $('#search-results a').each(function() {
                    var $link = $(this);
                    if ($link.text().toLowerCase() === hopefulSearchName.toLowerCase()) {
                        window.location = $link.attr('href');
                        return false;
                    }
                });
            }
        }

        $(document).ready(function() {
            // taxon search on remote site (using JSONP to overcome the same-origin policy)
            $('input[name=taxon-search]').unbind('keyup change').bind('keyup change', setTaxaSearchFuse );
            $('select[name=taxon-search-context]').unbind('change').bind('change', searchForMatchingTaxa );
            $('#taxon-search-form').unbind('submit').submit(function() {
                searchForMatchingTaxa();
                return false;
            });
        });

    </script>
    
    

    <!-- Fav and touch icons (TODO: add these files to site root!)
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-57-precomposed.png">
    -->
                                   <link rel="shortcut icon" href="/favicon.ico">
  </head>
  
<body>

  <div class="navbar navbar-inverse navbar-static-top" role="navigation">
    <div class="navbar-inner">
      <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

        <a class="brand" href="/opentree" style="font-weight: 400; color: #bbb; padding-right: 10px;">
            <img style="margin: -12px 4px -8px -2px;" src="/opentree/static/images/mini-opentree-logo.png">
            Open Tree of Life
        </a>

        <div class="nav-collapse collapse">
                    <ul class="nav">
              <!--<li class="active"><a href="/">Home</a></li>-->
              <li><a href="/curator">Add / browse trees</a></li>
              <li><a href="/contact">Feedback</a></li>
              <li><a href="http://blog.opentreeoflife.org/" target="_blank">Blog</a></li>
              <li class="dropdown">
                <a href="/about/open-tree-of-life" class="dropdown-toggle" data-toggle="dropdown">
                      About  <b class="caret"></b>
                  </a>
                <ul class="dropdown-menu">
                <li><a href="/about/open-tree-of-life">Open Tree of Life</a></li>
                      <li><a href="/about/references">Bibliographic references</a></li>
                      <li><a href="/about/progress">Progress</a></li>
                      <li><a href="/about/synthesis-release">Latest synthesis release</a></li>
                      <li><a href="/about/taxonomy-version">Latest taxonomy release</a></li>
                      <!--
                      <li><a href="/about/the-source-tree-manager">The source tree manager</a></li>
                      -->
                      <li><a href="https://github.com/OpenTreeOfLife/opentree/wiki/Open-Tree-of-Life-APIs" target="_blank">API documentation</a></li>
                      <li><a href="/about/developer-resources">Developer resources</a></li>
                      <li><a href="/about/licenses">Licenses</a></li>
                </ul>
              </li>
            </ul>
            <form id="taxon-search-form" class="navbar-search pull-right" autocomplete="off">
                <div class="left-inner-addon">
                    <i class="icon-search"></i>
                    <input type="text" name="taxon-search" class="search-query" placeholder="Search for taxon" autocomplete="off"
                        style="width: 100px;" tabindex="1">
                </div>
                <!-- then show dropdown when results are ready... -->
                <span style="color: #999; padding: 0 2px; font-size: 14px;">in</span>
                <select class="btn-inverse" style="margin-bottom: 0; width: auto;" name="taxon-search-context">
                    
                           <option selected="selected">All life</option>
                       
                    
                            <option>Land plants</option>
                       
                    
                            <option>Hornworts</option>
                       
                    
                            <option>Mosses</option>
                       
                    
                            <option>Liverworts</option>
                       
                    
                            <option>Vascular plants</option>
                       
                    
                            <option>Club mosses</option>
                       
                    
                            <option>Ferns</option>
                       
                    
                            <option>Seed plants</option>
                       
                    
                            <option>Flowering plants</option>
                       
                    
                            <option>Monocots</option>
                       
                    
                            <option>Eudicots</option>
                       
                    
                            <option>Rosids</option>
                       
                    
                            <option>Asterids</option>
                       
                    
                            <option>Asterales</option>
                       
                    
                            <option>Asteraceae</option>
                       
                    
                            <option>Aster</option>
                       
                    
                            <option>Symphyotrichum</option>
                       
                    
                            <option>Campanulaceae</option>
                       
                    
                            <option>Lobelia</option>
                       
                    
                            <option>Animals</option>
                       
                    
                            <option>Birds</option>
                       
                    
                            <option>Tetrapods</option>
                       
                    
                            <option>Mammals</option>
                       
                    
                            <option>Amphibians</option>
                       
                    
                            <option>Vertebrates</option>
                       
                    
                            <option>Arthropods</option>
                       
                    
                            <option>Molluscs</option>
                       
                    
                            <option>Nematodes</option>
                       
                    
                            <option>Platyhelminthes</option>
                       
                    
                            <option>Annelids</option>
                       
                    
                            <option>Cnidarians</option>
                       
                    
                            <option>Arachnides</option>
                       
                    
                            <option>Insects</option>
                       
                    
                            <option>Fungi</option>
                       
                    
                            <option>Basidiomycetes</option>
                       
                    
                            <option>Ascomycetes</option>
                       
                    
                            <option>Bacteria</option>
                       
                    
                            <option>SAR group</option>
                       
                    
                            <option>Archaea</option>
                       
                    
                            <option>Excavata</option>
                       
                    
                            <option>Amoebae</option>
                       
                    
                            <option>Centrohelida</option>
                       
                    
                            <option>Haptophyta</option>
                       
                    
                            <option>Apusozoa</option>
                       
                    
                            <option>Diatoms</option>
                       
                    
                            <option>Ciliates</option>
                       
                    
                            <option>Forams</option>
                       
                    
                    
                <!-- 
                NOTE that the displayed OPTION values (confirmed as current via AJAX) are accepted 
                by the server, ie, there's no distinction between visible and occult values.
                -->
                </select>
                <div class="">
                    <ul id="search-results" class="dropdown-menu" role="menu">
                        ...
                    </ul>
                </div>
            </form>

        </div><!-- /.nav-collapse.collapse -->

      </div>
    </div>
  </div><!-- /.navbar -->

  <div class="container">
    <section id="main" class="main row">
        

        <div class="span12">
            
            

<div id="argusDBContainer" />

<!--
<div id="screen-size-indicator">
<span class="visible-phone">phone</span>
<span class="visible-tablet">tablet</span>
<span class="visible-desktop">desktop</span>
</div>
-->

<div class="container">
      <!--
    <div class="navbar">

	  <div class="header">
	    <div class="headerlogo">
		  <a data-w2p_disable_with="default" href="http://opentreeoflife.org/"><img alt="Open Tree of Life logo" height="74" src="/opentree/static/images/logo.png" valign="middle" width="144" /></a>
	    </div>
	  </div>

	  <div class="sidebar-search">
        <form style="text-align: center;" autocomplete="off">
            <input type="text" style="width: 150px;" name="taxon-search" placeholder="Search for taxon/node" autocomplete="off"/>
            <input type="submit" style="" name="taxon-search-go" value="Go" onclick="return false;"/>
		</form>
        <div id="search-results">
            &nbsp;
        </div>
	  </div>

      <br />

      <a href="#TODO-about.html">About the tree</a>
      <br />

      <a href="#TODO-extract.html">Extracting subtrees</a>
      <br />

      <a href="#TODO-download.html">Download</a>
      <br />

      <a href="http://www.reelab.net/phylografter">Source tree manager</a>
      <br />

      <a href="#TODO-credits.html">Credits</a>
      <br />
      <br />
      <hr />
      <i>What's new:</i>
      <p style="margin-left:2em; font-size: 80%;">
        New in version 0.73: Something very cool
      </p>
      <hr />
    

   </div>--><!-- /.navbar -->

    <div class="vizcontent">
     <div id="viz-header" class="row">
      <div class="span12">
       <h1 id="main-title" class="pull-left" style="margin: 0;">
           <span class="title">&nbsp;</span>
       </h1>
       <p id="tree-description" class="hidden-phone pull-right">Exploring the current synthetic tree</p>
       <!-- if main title is long, this should disappear on narrow screens -->

       <!--
           <div id="links-to-local-comments" style="clear: both;">
               <a href="#comment-header">Comments on this node</a>
               |
               <a href="#comment-header" onclick="$('.plugin_localcomments #r0 > a.reply, .plugin_localcomments a.login-logout').eq(0).click(); return true;">Add a comment</a>
           </div>
       -->
      </div>
     </div>

     <!--<a id="provenance-show" href="#">Show properties</a>-->
     <div id="viewer-collection" class="with-small-provenance"
          style="overflow: visible;" >

           <div id="argus-controls" style="position: absolute; top: -24px; width: 100%; line-height: 1em; text-align: center;">
              <span class="comments-indicator"
                    style="float: left; margin-left: 4px;">
               <a class="badge" href="#"
                  title="Show comments for this node"
                  onclick="toggleCommentsPanel(); $(this).blur(); return false;">
                   <span id="comment-count">0</span>
                   <i class="icon-comment icon-white"></i>
                   <span class="hidden-phone widget-prompt"> Show comments</span>
               </a>
              </span><!-- .comments-indicator -->
              
              <span class="legend-widget">
                  <a class="badge" onclick="toggleTreeViewLegend(); $(this).blur(); return false;">Legend</a>
              </span>

              <span class="zoom-widget">
               <span class="badge"
                   title="Magnify tree view"
                   onclick="return false;"
                   >
                   <a href="#"
                      onclick="(argus.getZoomInHandler())(); $(this).blur(); return false;" >
                      <span class="hidden-phone widget-prompt">Zoom tree view &nbsp;</span>
                      <i class="icon-plus icon-white" style="margin-right: 8px;" ></i>
                   </a>
                   <span style="color: #ccc;">|</span>
                   <a href="#"
                      onclick="(argus.getZoomOutHandler())(); $(this).blur(); return false;" >
                       <i class="icon-minus icon-white" style="margin-left: 8px;" ></i>
                   </a>
               </span>
              </span><!-- .zoom-widget -->

               <a class="badge toggle-conflicts" href="#"
                   style="display: none;"
                   title="Toggle conflict information"
                   onclick="f = argus.getToggleConflictsHandler(); if (f) f(); $(this).blur(); return false;"
                   >
                      Toggle conflicts
               </a>

              <span class="properties-indicator"
                    style="float: right; margin-right: 4px;">
               <a class="badge" href="#" 
                  title="Show properties for the current selection"
                  onclick="togglePropertiesPanel(); $(this).blur(); return false;">
                   <i class="icon-info-sign icon-white"></i>
                   <span class="hidden-phone widget-prompt">Show properties </span>
               </a>
              </span><!-- .properties-indicator -->
           </div>

          <div id="comments-panel">
           <div class="panel-edges">
            <div class="panel-content">
             <div class="panel-controls">
                 <a id="comments-hide" href="#" title="Hide comments">&times;</a>
             </div>
             <div class="provenance-intro">Loading&hellip;</div>
             <div class="provenance-title">&nbsp;</div>
             <div>
               
               <div id="c12970091685">

<!-- Using static HTML message here -->

<p style="color: #933; margin-top: 4px;">Sorry - our comment feature isn’t working right now due to high server load.
              You can leave an issue in our
              <a href="https://github.com/OpenTreeOfLife/feedback/issues" target="_blank">feedback repository on GitHub</a>
              or contact us via one of the methods on the
              <a href="/contact" target="_blank">Contact page</a>.</p>

               </div>

             </div>
            </div>
           </div>
          </div>

          <div id="argusCanvasContainer" class="viewer-frame"> &nbsp;</div>
          <!-- TODO: Add other viewers here, and code to switch among them -->

          <div id="provenance-panel">
           <div class="panel-edges">
            <div class="panel-content">
             <div class="panel-controls">
                 <a id="provenance-hide" href="#" title="Hide properties">&times;</a>
             </div>
             <div class="provenance-title">&nbsp;</div>
             <div class="ordered-sections">&nbsp;</div>
            </div>
           </div>
          </div>
      </div>

    </div><!-- end of .vizcontent -->
  </div><!-- end of .container -->

  <script type="text/javascript">
    var syntheticTreeID = 'opentree3.0';
    var syntheticTreeDefaultStartingNodeID = '1';
        // TODO: Allow other choices via URL?

    // if inbound URL points to a particular location+view, record it here
    var urlState = {
     
    };
    // treeview.js will examine this to determine our starting view
  </script>
  <script type="text/javascript" src="/opentree/static/js/treeview.js"></script>

<!-- hidden template for argus (tree-viewer) legend -->
<div class="modal hide fade" id="tree-view-legend" style="display: none;">
    <div class="modal-header">
      <a data-dismiss="modal" class="close">×</a>
      <h3 id='dialog-heading'>
         Tree view legend
      </h3>
    </div>
    <div class="modal-body">
      <div class="legend-pane">
       <table>
        <tr>
         <td align="right">
            Node size reflects number of descendants
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-node-sizes.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            Nearest ancestors of current node
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-ancestors.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            Hollow tips may have more descendants
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-tips.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            Paths supported by phylogeny
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-solid-paths.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            Paths supported only by taxonomy
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-dotted-paths.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            Mouse-over hint (click to see node and edge properties)
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-node-info.png" alt="outgroup style" />
         </td>
        </tr>
        <tr>
         <td align="right">
            New target node (click to jump to it)
         </td>
         <td>
          <img src="/opentree/static/images/tree-view-node-jump.png" alt="outgroup style" />
         </td>
        </tr>
       </table>
      </div>
    </div>
    <div class="modal-footer">
      <a data-dismiss="modal" class="btn" >Close</a>
    </div>
</div>

            
        </div>

        
    </section>
    
</div><!-- /.container -->

<!-- Footer ================================================== -->
<footer class="footer" id="footer">
  <div class="container">
    <div class="footer-content">
         <!-- this is default footer -->
        <div id="fundedBy" class="pull-left">
            Open Tree of Life is funded by NSF (AVAToL)
            </div>
        <div id="poweredBy" class="pull-right">
            <a href="#" onclick="toggleServerDetailsPopup(); return false;">Show/hide server details</a>
            &bull;
            <a href="/opentree/about/licenses" IGNOREME="/about/licenses" rel="jslicense">License information</a>
            &bull;
            Powered by
            <a href="http://www.web2py.com/" target="_blank" >web2py</a>
        </div>
        <div id="server-details" style="display: none; clear: both; margin: 4px 0; background-color: #f5f5f5; padding: 6px 8px; border-radius: 8px;">
            Configuration for the <strong>opentree</strong> web2py app: 
            <dl>
               <dt id="deployed-branch">deployed branch of opentree webapps:</dt>
                   <dd><strong style="color: #888;">master
                   </strong></dd>
            
               <dt>security</dt>
                   
                   <dd><strong style="color: #888;">secure_sessions_with_HTTPS</strong>: true</dd>
                   
            
               <dt>paths</dt>
                   
            
               <dt>apis</dt>
                   
                   <dd><strong style="color: #888;">github_client_id</strong>: dff0cf4bb02360426224</dd>
                   
                   <dd><strong style="color: #888;">github_redirect_uri</strong>: http://tree.opentreeoflife.org/opentree/user/login</dd>
                   
            
               <dt>domains</dt>
                   
                   <dd><strong style="color: #888;">treemachine</strong>: //api.opentreeoflife.org/treemachine/v1</dd>
                   
                   <dd><strong style="color: #888;">taxomachine</strong>: //api.opentreeoflife.org/taxomachine/v1</dd>
                   
                   <dd><strong style="color: #888;">oti</strong>: //api.opentreeoflife.org/oti/v1</dd>
                   
                   <dd><strong style="color: #888;">opentree_api</strong>: //api.opentreeoflife.org/phylesystem/v1</dd>
                   
                   <dd><strong style="color: #888;">v2_api</strong>: //devapi.opentreeoflife.org/v2</dd>
                   
                   <dd><strong style="color: #888;">CACHED_treemachine</strong>: //api.opentreeoflife.org/cached/treemachine/v1</dd>
                   
                   <dd><strong style="color: #888;">CACHED_taxomachine</strong>: //api.opentreeoflife.org/cached/taxomachine/v1</dd>
                   
                   <dd><strong style="color: #888;">CACHED_v2_api</strong>: http://opentree.myserver.org/cached/v2</dd>
                   
            
               <dt>method_urls</dt>
                   
                   <dd><strong style="color: #888;">getDraftTreeID_url</strong>: {treemachine_domain}/getDraftTreeID</dd>
                   
                   <dd><strong style="color: #888;">getSyntheticTree_url</strong>: {CACHED_treemachine_domain}/getSyntheticTree</dd>
                   
                   <dd><strong style="color: #888;">getSourceTree_url</strong>: {treemachine_domain}/getSourceTree</dd>
                   
                   <dd><strong style="color: #888;">getDraftSubtree_url</strong>: {v2_api_domain}/tree_of_life/subtree</dd>
                   
                   <dd><strong style="color: #888;">doTNRSForAutocomplete_url</strong>: {taxomachine_domain}/autocompleteQuery</dd>
                   
                   <dd><strong style="color: #888;">getContextsJSON_url</strong>: {CACHED_taxomachine_domain}/getContextsJSON</dd>
                   
                   <dd><strong style="color: #888;">getNodeIDForOttolID_url</strong>: {treemachine_domain}/getNodeIDForottId</dd>
                   
                   <dd><strong style="color: #888;">getSynthesisSourceList_url</strong>: {treemachine_domain}/getSynthesisSourceList</dd>
                   
                   <dd><strong style="color: #888;">findAllStudies_url</strong>: {oti_domain}/findAllStudies</dd>
                   
                   <dd><strong style="color: #888;">singlePropertySearchForStudies_url</strong>: {oti_domain}/singlePropertySearchForStudies</dd>
                   
                   <dd><strong style="color: #888;">API_load_study_GET_url</strong>: {opentree_api_domain}/study/{STUDY_ID}</dd>
                   
            
            </dl>
        </div>
        
    </div>
  </div>
</footer>

<!-- hidden spinner (move and display as needed), created with http://preloaders.net/en/circular -->
<div id="spinner" style="display: none;">
    <img src="/opentree/static/images/spinner.gif" />
</div>

</body>
</html>
